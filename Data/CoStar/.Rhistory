setwd("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar")
seattle <- read.csv("Greater Seattle AreaDataTable.xlsx")
seattle <- read.csv("Greater Seattle AreaDataTable.xlsx")
knitr::opts_chunk$set(echo = TRUE)
seattle <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Greater Seattle AreaDataTable.xlsx")
install.packages("readxl")   # run once
# install.packages("readxl")   # run once
library(readxl)
library(dplyr)
setwd("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar")
greater_seattle <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Greater Seattle AreaDataTable.xlsx",
sheet = 1)  # or "DataTable" if thatâ€™s the sheet name
bellevue_cbd   <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Bellevue DataTable.xlsx",
sheet = 1)
slu_cbd        <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/SLU DataTable.xlsx",
sheet = 1)
greater_seattle <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Greater Seattle AreaDataTable.xlsx", sheet = 1)
bellevue_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Bellevue DataTable.xlsx", sheet = 1)
slu_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/SLU DataTable.xlsx", sheet = 1)
View(bellevue_cbd)
View(greater_seattle)
View(slu_cbd)
library(stringr)
greater_seattle <- greater_seattle %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))
bellevue_cbd <- bellevue_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))
slu_cbd <- slu_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))
greater_seattle <- greater_seattle %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}"))) %>%
filter(Year >= 2015, Year <= 2025)
greater_seattle <- greater_seattle %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}"))) %>%
filter(Year >= 2015, Year <= 2025)
bellevue_cbd <- bellevue_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025)
slu_cbd <- slu_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025)
greater_seattle <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Greater Seattle AreaDataTable.xlsx", sheet = 1)
bellevue_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Bellevue DataTable.xlsx", sheet = 1)
slu_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/SLU DataTable.xlsx", sheet = 1)
greater_seattle <- greater_seattle %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}"))) %>%
filter(Year >= 2015, Year <= 2025)
bellevue_cbd <- bellevue_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025)
slu_cbd <- slu_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025)
greater_seattle <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Greater Seattle AreaDataTable.xlsx", sheet = 1)
bellevue_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Bellevue DataTable.xlsx", sheet = 1)
slu_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/SLU DataTable.xlsx", sheet = 1)
greater_seattle <- greater_seattle %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}"))) %>%
filter(Year >= 2015, Year <= 2025) %>%
mutate(Submarket = "Greater Seattle Metro")
bellevue_cbd <- bellevue_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025) %>%
mutate(Submarket = "Bellevue CBD")
slu_cbd <- slu_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025)%>%
mutate(Submarket = "South Lake Union CBD")
combined <- bind_rows(greater_seattle, bellevue_cbd, slu_cbd)
View(combined)
cleaned <- combined %>%
filter(
!str_detect(Period, "EST"),
!str_detect(Period, "QTD")
)
View(cleaned)
write.csv(combined, "Seattle_Submarkets_2015_2025.csv", row.names = FALSE)
write.csv(cleaned, "Seattle_Submarkets_2015_2025.csv", row.names = FALSE)
write.csv(cleaned, "Seattle_Submarkets_2015_2025.csv", row.names = FALSE)
View(cleaned)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
information <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAInformation.csv")
View(information)
total_emp <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WATotalNonFarm.csv")
total_emp_clean <- business %>%
mutate(
across(
Jan:Dec,
~ as.numeric(str_replace_all(as.character(.x), "\\(P\\)", ""))
)
)
View(total_emp_clean)
library(readxl)
library(dplyr)
library(tidyr)
library(stringr)
business <- business %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", ""))))
View(business)
business <- business %>%
rowwise() %>%
mutate(Employment = mean(c_across(Jan:Dec), na.rm = TRUE)) %>%
ungroup() %>%
select(Year, Employment)
business <- business %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
information <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAInformation.csv")
total_emp <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WATotalNonFarm.csv")
business <- business %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
business <- business %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
information <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAInformation.csv")
total_emp <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WATotalNonFarm.csv")
business <- business %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)
information <- information %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)
total_emp <- total_emp %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)
View(business)
View(information)
View(total_emp)
View(total_emp_clean)
View(total_emp)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
information <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAInformation.csv")
total_emp <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WATotalNonFarm.csv")
business <- business %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
) %>%
mutate (
Industry = "Business"
)
information <- information %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)%>%
mutate (
Industry = "Information"
)
View(slu_cbd)
View(slu_cbd)
employment <- bind_rows(total_emp, business, information)
View(employment)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
information <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAInformation.csv")
total_emp <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WATotalNonFarm.csv")
business <- business %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
) %>%
mutate (
Industry = "Business"
)
information <- information %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)%>%
mutate (
Industry = "Information"
)
total_emp <- total_emp %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
) %>%
mutate (
Industry = "Total"
)
employment <- bind_rows(total_emp, business, information)
View(employment)
write.csv(employment, "Washington Employment", row.names = FALSE)
employment <- employment %>%
mutate(
Period = Year + Quarter
)
employment <- employment %>%
mutate(
Period = paste0(Year, " ", Quarter)
)
write.csv(employment, "Washington Employment", row.names = FALSE)
write.csv(employment, "Washington Employment.csv", row.names = FALSE)
library(readxl)
library(dplyr)
library(tidyr)
library(stringr)
business <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAProfBusiness.csv")
information <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WAInformation.csv")
total_emp <- read.csv("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CES/BLS CES 2015-2025 Data for Washington - WATotalNonFarm.csv")
business <- business %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
) %>%
mutate (
Industry = "Business"
)
information <- information %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
)%>%
mutate (
Industry = "Information"
)
total_emp <- total_emp %>%
mutate(across(Jan:Dec, ~ as.numeric(str_replace_all(.x, "\\(P\\)", "")))) %>%
transmute(
Year = as.integer(Year),
Q1 = rowMeans(across(c(Jan, Feb, Mar)), na.rm = TRUE),
Q2 = rowMeans(across(c(Apr, May, Jun)), na.rm = TRUE),
Q3 = rowMeans(across(c(Jul, Aug, Sep)), na.rm = TRUE),
Q4 = rowMeans(across(c(Oct, Nov, Dec)), na.rm = TRUE)
) %>%
# pivot to long format for joining
pivot_longer(
cols = Q1:Q4,
names_to = "Quarter",
values_to = "Employment"
) %>%
mutate (
Industry = "Total"
)
employment <- bind_rows(total_emp, business, information)
employment <- employment %>%
mutate(
Period = paste0(Year, " ", Quarter)
)
write.csv(employment, "Washington Employment.csv", row.names = FALSE)
# install.packages("readxl")
library(readxl)
library(dplyr)
library(stringr)
greater_seattle <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Greater Seattle AreaDataTable.xlsx", sheet = 1)
bellevue_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/Bellevue DataTable.xlsx", sheet = 1)
slu_cbd <- read_excel("~/Library/CloudStorage/OneDrive-UW/AU25/RE 519/Git/re519_group4_final_project/Data/CoStar/SLU DataTable.xlsx", sheet = 1)
greater_seattle <- greater_seattle %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}"))) %>%
filter(Year >= 2015, Year <= 2025) %>%
mutate(Submarket = "Greater Seattle Metro")
bellevue_cbd <- bellevue_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025) %>%
mutate(Submarket = "Bellevue CBD")
slu_cbd <- slu_cbd %>%
mutate(Year = as.numeric(str_extract(Period, "^\\d{4}")))%>%
filter(Year >= 2015, Year <= 2025)%>%
mutate(Submarket = "South Lake Union CBD")
combined <- bind_rows(greater_seattle, bellevue_cbd, slu_cbd)
cleaned <- combined %>%
filter(
!str_detect(Period, "EST"),
!str_detect(Period, "QTD")
)
write.csv(cleaned, "Seattle_Submarkets_2015_2025.csv", row.names = FALSE)
View(cleaned)
View(employment)
View(cleaned)
joined <- combined %>%
left_join(employment %>% select(period, Employment, Industry), by = "Period")
joined <- combined %>%
left_join(employment %>% select(Period, Employment, Industry), by = "Period")
View(joined)
joined <- cleaned %>%
left_join(employment %>% select(Period, Employment, Industry), by = "Period")
write.csv(joined, "Seattle_Submarkets_and_Employment_2015_2025.csv", row.names = FALSE)
